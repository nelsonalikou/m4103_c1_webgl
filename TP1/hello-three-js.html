<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <title>WebGL - Hello, three.js!</title>
    <meta name="description" content="WebGL - Hello, three.js!">
    <meta name="author" content="Aassif Benassarou">
    <link rel="stylesheet" href="https://webgl.benassarou.fr/tp/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/96/three.min.js"></script>

    <script>
      class HelloThreeJS
      {
        constructor (canvas)
        {
          this.canvas = document.getElementById (canvas);

          this.scene = new THREE.Scene ();

          //Création du carré 
          //const geometry = new THREE.PlaneGeometry (0.5, 0.5);

          const geometry1 = new THREE.BoxBufferGeometry (0.5, 0.5, 0);
          const material1 = new THREE.MeshBasicMaterial ({color: '#fff'});
          const SQUARE1 = new THREE.Mesh (geometry1, material1);

          SQUARE1.translateX(-0.50);
          SQUARE1.translateY(-0.50);
          console.log(SQUARE1.position);
          
          this.scene.add (SQUARE1);

          const geometry2 = new THREE.BoxBufferGeometry (0.5, 0.5, 0);
          const material2 = new THREE.MeshBasicMaterial ({color: '#f00'});
          const SQUARE2 = new THREE.Mesh (geometry2, material2);

          SQUARE2.translateX(+0.50);
          SQUARE2.translateY(+0.50);
          /*SQUARE2.rotateX(Math.PI/6);
          SQUARE2.rotateY(Math.PI/6);
          SQUARE2.rotateZ(Math.PI/6);*/

          SQUARE2.setRotationFromAxisAngle(new THREE.Vector3(0,0,0.5),Math.PI/6);
          console.log(SQUARE2.position);
          console.log(SQUARE2.rotation);

          this.scene.add (SQUARE2);

          this.camera = new THREE.OrthographicCamera (-1, +1, +1, -1, +1, -1);

          const settings = {canvas: this.canvas, antialias: true, alpha: true};
          this.renderer = new THREE.WebGLRenderer (settings);
          this.renderer.setClearColor (0x00ff00, 1);

          this.animate ();
        }

        animate ()
        {
          this.renderer.render (this.scene, this.camera);
          requestAnimationFrame (() => this.animate ());
        }
      }
    </script>

    <style>
      body {text-align: center;}
    </style>
  </head>

  <body>
    <h1><em>Hello, three.js!</em></h1>
    <canvas id="canvas:hello-three-js" width="600" height="600"></canvas>
    <script>new HelloThreeJS ('canvas:hello-three-js');</script>
  </body>
</html>
